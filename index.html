<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مكتبة الأفلام</title>

<style>
body{
  margin:0;background:#0d0d0d;color:#fff;
  font-family:Arial, sans-serif;
}
header{
background:#000;padding:15px;text-align:center;
position:sticky;top:0;z-index:100;
border-bottom:2px solid #e50914;
}
nav{
display:flex;overflow-x:auto;gap:10px;
padding:10px;background:#111;
}
nav button{
padding:8px 18px;background:#222;color:#fff;border:none;
border-radius:20px;font-size:15px;white-space:nowrap;
}
nav button:hover{background:#e50914;}
.grid{
padding:10px;
display:grid;
grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
gap:15px;
}
.card{
background:#1b1b1b;border-radius:8px;cursor:pointer;
transition:0.25s;overflow:hidden;
box-shadow:0 4px 10px rgba(0,0,0,0.5);
}
.card:hover{transform:scale(1.07);}
.card img{
width:100%;height:220px;object-fit:cover;
}
.card h4{
margin:8px;font-size:16px;text-align:center;
}

.server-box{
height:65vh;padding:10px;
}
.server-box iframe{
width:100%;height:100%;border:none;background:#000;
border-radius:10px;
}
.back{
padding:8px 15px;background:#e50914;border:none;
border-radius:5px;color:#fff;font-size:16px;
margin-right:auto;
}

.episodes h3{
padding:10px;margin:0;background:#111;
border-left:4px solid #e50914;
}
.episodes button{
padding:7px 15px;background:#222;border:none;color:#fff;
border-radius:6px;margin:5px;font-size:14px;
}
.episodes button:hover{background:#e50914;}
</style>

</head>
<body>

<header><h2>مكتبة الأفلام و المسلسلات</h2></header>
<nav id="tabs"></nav>

<div id="itemsGrid" class="grid"></div>

<div id="watchPage" style="display:none;padding-bottom:30px;">
  <header style="display:flex;align-items:center;gap:20px;">
    <button class="back" onclick="goBack()">رجوع</button>
    <h2 id="movieTitle" style="flex:1;"></h2>
  </header>

  <div class="server-box">
    <iframe id="serverFrame" allowfullscreen></iframe>
  </div>

  <div id="episodesList" class="episodes"></div>
</div>

<script>
// زر الرجوع
window.addEventListener("popstate", ()=>{ goBack(); });
function pushState(){ history.pushState({page:"watch"}, ""); }

// -----------------------------
// التبويبات
// -----------------------------
const tabs = ["الكل","أكشن","دراما","كوميديا","رعب","خيال علمي","مسلسلات","الأكثر مشاهدة"];

// -----------------------------
// الأفلام — 100 رابط
// -----------------------------
const filmServers = [
  "https://hglink.to/e/0uhplzzrsbmr",
  "https://vipserver.liiivideo.com/embed-h50rewwcvk82.html",
  "https://www.vidspeeds.com:2053/embed-0sqql77uvsed.html",
  "https://www.vidspeeds.com:2053/embed-u6v08qupu0ro.html",
  "https://www.vidspeeds.com:2053/embed-mcp8hd8q9td2.html",
  "https://vidoba.cc/embed-d9ie1k9tq9l5.html",
  "https://www.vidroba.com:2053/embed-orev1bit9j8q.html"
  ,"https://www.vidroba.com:2053/embed-bxkiq5gmrykw.html",
  "https://movearnpre.com/embed/7x3i4nriqqyt",
  "https://www.vidroba.com:2053/embed-phdzqrkrdllt.html",
  "https://hglink.to/e/iivqmdii9zc2",
  "https://www.vidspeeds.com/embed-pzcgljb67pkf.html",
  "https://www.vidspeeds.com:2053/embed-vzs6kx0hixqx.html",
  "https://www.vidspeeds.com:2053/embed-gjdxzl1p5m25.html",
"https://www.vidspeeds.com/embed-s6hzdc8djokj.html",
  "https://www.vidspeeds.com:2053/embed-ipwhmka1ldu2.html",
  "https://www.vidspeeds.com:2053/embed-8k639i8ynoju.html",
  "https://www.vidspeeds.com:2053/embed-k64h88kpfqnb.html",
  "https://www.vidspeeds.com:2053/embed-i13pyhpogyvw.html",
  "https://www.vidspeeds.com:2053/embed-5fz5d5bcyksn.html",
  "https://www.vidroba.com:2053/embed-omuqe64e4by7.html",
  "http://vidmoly.net/embed-u9z1exdjq320.html",
  "https://www.vidspeeds.com:2053/embed-pmtrohtmjz4y.html",
  "https://www.vidroba.com:2053/embed-9lsi2vjlfobf.html",
  "https://www.vidspeeds.com:2053/embed-sp612uzd4a6j.html",
  "https://www.vidspeeds.com:2053/embed-pv3ozn0znj9b.html",
  "https://vipserver.liiivideo.com/embed-11b4lko8zlea.html",
  "https://www.vidspeeds.com:2053/embed-b6l80cn6ygsi.html",
  "https://www.vidspeeds.com:2053/embed-9plt91w3oous.html",
  "https://vidroba.com:2053/embed-0tk9hofu6jgw.html","ضع_هنا_رابط_الفيلم_31","ضع_هنا_رابط_الفيلم_32",
  "ضع_هنا_رابط_الفيلم_33","ضع_هنا_رابط_الفيلم_34","ضع_هنا_رابط_الفيلم_35",
  "ضع_هنا_رابط_الفيلم_36","ضع_هنا_رابط_الفيلم_37","ضع_هنا_رابط_الفيلم_38",
  "ضع_هنا_رابط_الفيلم_39","ضع_هنا_رابط_الفيلم_40","ضع_هنا_رابط_الفيلم_41",
  "ضع_هنا_رابط_الفيلم_42","ضع_هنا_رابط_الفيلم_43","ضع_هنا_رابط_الفيلم_44",
  "ضع_هنا_رابط_الفيلم_45","ضع_هنا_رابط_الفيلم_46","ضع_هنا_رابط_الفيلم_47",
  "ضع_هنا_رابط_الفيلم_48","ضع_هنا_رابط_الفيلم_49","ضع_هنا_رابط_الفيلم_50",
  "ضع_هنا_رابط_الفيلم_51","ضع_هنا_رابط_الفيلم_52","ضع_هنا_رابط_الفيلم_53",
  "ضع_هنا_رابط_الفيلم_54","ضع_هنا_رابط_الفيلم_55","ضع_هنا_رابط_الفيلم_56",
  "ضع_هنا_رابط_الفيلم_57","ضع_هنا_رابط_الفيلم_58","ضع_هنا_رابط_الفيلم_59",
  "ضع_هنا_رابط_الفيلم_60","ضع_هنا_رابط_الفيلم_61","ضع_هنا_رابط_الفيلم_62",
  "ضع_هنا_رابط_الفيلم_63","ضع_هنا_رابط_الفيلم_64","ضع_هنا_رابط_الفيلم_65",
  "ضع_هنا_رابط_الفيلم_66","ضع_هنا_رابط_الفيلم_67","ضع_هنا_رابط_الفيلم_68",
  "ضع_هنا_رابط_الفيلم_69","ضع_هنا_رابط_الفيلم_70","ضع_هنا_رابط_الفيلم_71",
  "ضع_هنا_رابط_الفيلم_72","ضع_هنا_رابط_الفيلم_73","ضع_هنا_رابط_الفيلم_74",
  "ضع_هنا_رابط_الفيلم_75","ضع_هنا_رابط_الفيلم_76","ضع_هنا_رابط_الفيلم_77",
  "ضع_هنا_رابط_الفيلم_78","ضع_هنا_رابط_الفيلم_79","ضع_هنا_رابط_الفيلم_80",
  "ضع_هنا_رابط_الفيلم_81","ضع_هنا_رابط_الفيلم_82","ضع_هنا_رابط_الفيلم_83",
  "ضع_هنا_رابط_الفيلم_84","ضع_هنا_رابط_الفيلم_85","ضع_هنا_رابط_الفيلم_86",
  "ضع_هنا_رابط_الفيلم_87","ضع_هنا_رابط_الفيلم_88","ضع_هنا_رابط_الفيلم_89",
  "ضع_هنا_رابط_الفيلم_90","ضع_هنا_رابط_الفيلم_91","ضع_هنا_رابط_الفيلم_92",
  "ضع_هنا_رابط_الفيلم_93","ضع_هنا_رابط_الفيلم_94","ضع_هنا_رابط_الفيلم_95",
  "ضع_هنا_رابط_الفيلم_96","ضع_هنا_رابط_الفيلم_97","ضع_هنا_رابط_الفيلم_98",
  "ضع_هنا_رابط_الفيلم_99","ضع_هنا_رابط_الفيلم_100"
];

// -----------------------------
// أسماء الأفلام
// -----------------------------
const movieNames = [
"John Wick","Fast & Furious 7","The Dark Knight","Interstellar","Inception",
"Gladiator","The Matrix","Avatar","Avengers Endgame","Iron Man",
"Mission Impossible Fallout","Mad Max Fury Road","Joker","Dune","Oppenheimer",
"Spider-Man No Way Home","The Equalizer","Taken","Black Panther","Tenet",
"Doctor Strange","Rush Hour","The Revenant","The Wolf of Wall Street",
"Shutter Island","The Godfather","Scarface","The Irishman","The Gentlemen",
"Nobody","The Meg","Gravity","Edge of Tomorrow","Lucy","Oblivion",
"Top Gun Maverick","Mortal Kombat","Rampage","San Andreas","Man of Steel",
"Creed","Rocky","Hacksaw Ridge","1917","Fury","World War Z","I Am Legend",
"King Kong","The Hunger Games","Divergent","The Nun","The Conjuring",
"Annabelle","IT","Smile","Insidious","The Grudge","Lights Out",
"Deadpool","Logan","Wolverine","Thor","Hulk","Captain America","Black Adam",
"Shazam","Aquaman","Transformers","Pacific Rim","Godzilla","Kong Skull Island",
"Pirates of the Caribbean","Sherlock Holmes","The Mummy","Aladdin","Harry Potter",
"Lord of the Rings","Hobbit","Snowden","American Sniper","Sicario","Heat",
"Collateral","Baby Driver","Drive","La La Land","A Quiet Place","Real Steel",
"Robin Hood","Troy","300","Clash of Titans","Wrath of Titans","Kingsman","Hitman"
];

// -----------------------------
// روابط أول حلقة لكل مسلسل — أنت تملأها
// -----------------------------
const seriesBaseLinks = [
  "ضع_رابط_مسلسل_1_حلقة_1",
  "ضع_رابط_مسلسل_2_حلقة_1",
  "ضع_رابط_مسلسل_3_حلقة_1",
  "ضع_رابط_مسلسل_4_حلقة_1",
  "ضع_رابط_مسلسل_5_حلقة_1",
  "ضع_رابط_مسلسل_6_حلقة_1",
  "ضع_رابط_مسلسل_7_حلقة_1",
  "ضع_رابط_مسلسل_8_حلقة_1",
  "ضع_رابط_مسلسل_9_حلقة_1",
  "ضع_رابط_مسلسل_10_حلقة_1"
];

// -----------------------------
// أسماء المسلسلات (10 فقط)
// -----------------------------
const seriesNames = [
"Breaking Bad","Game of Thrones","Peaky Blinders","La Casa de Papel","Vikings",
"The Witcher","Dark","Stranger Things","The Last of Us","The Walking Dead"
];

let allItems = [];

// -----------------------------
// الأفلام
// -----------------------------
movieNames.forEach((name, i)=>{
  allItems.push({
    id:i+1,
    type:"movie",
    title:name,
    poster:"movie"+(i+1)+".jpg",
    category:(i%5===0?"أكشن":i%5===1?"دراما":i%5===2?"كوميديا":i%5===3?"رعب":"خيال علمي"),
    servers:[ filmServers[i] ]
  });
});

// -----------------------------
// دالة توليد الحلقات تلقائيًا
// -----------------------------
function generateSeriesLinks(baseLink){
  let list = [];
  for(let s=1; s<=5; s++){
    let eps = [];
    for(let e=1; e<=12; e++){
      let link = baseLink
        .replace("season1","season"+s)
        .replace("ep1","ep"+e);
      eps.push(link);
    }
    list.push({ episodes: eps });
  }
  return list;
}

// -----------------------------
// المسلسلات (توليد تلقائي)
// -----------------------------
seriesNames.forEach((name,i)=>{
  allItems.push({
    id:200+i+1,
    type:"series",
    title:name,
    poster:"series"+(i+1)+".jpg",
    category:"مسلسلات",
    servers:[""],
    seasons: generateSeriesLinks(seriesBaseLinks[i])
  });
});

const tabDiv=document.getElementById("tabs");
tabs.forEach(t=>{
  const b=document.createElement("button");
  b.textContent=t;
  b.onclick=()=>filterItems(t);
  tabDiv.appendChild(b);
});

const grid=document.getElementById("itemsGrid");
function showAll(list){
  grid.innerHTML="";
  list.forEach(item=>{
    const c=document.createElement("div");
    c.className="card";
    c.onclick=()=>openItem(item.id);
    c.innerHTML=`
      <img src="${item.poster}">
      <h4>${item.title}</h4>
    `;
    grid.appendChild(c);
  });
}
showAll(allItems);

function filterItems(t){
  if(t==="الكل") showAll(allItems);
  else if(t==="مسلسلات") showAll(allItems.filter(x=>x.type==="series"));
  else showAll(allItems.filter(x=>x.category===t));
}

function openItem(id){
  pushState();
  const item=allItems.find(x=>x.id==id);

  document.getElementById("itemsGrid").style.display="none";
  document.getElementById("watchPage").style.display="block";

  document.getElementById("movieTitle").textContent=item.title;
  document.getElementById("serverFrame").src=item.servers[0];

  let html="";
  if(item.type==="series"){
    item.seasons.forEach((s,si)=>{
      html+=`<h3>الموسم ${si+1}</h3>`;
      s.episodes.forEach((ep,ei)=>{
        html+=`<button onclick="document.getElementById('serverFrame').src='${ep}'">حلقة ${ei+1}</button>`;
      });
    });
  }
  document.getElementById("episodesList").innerHTML=html;
}

function goBack(){
  document.getElementById("watchPage").style.display="none";
  document.getElementById("itemsGrid").style.display="grid";
  document.getElementById("serverFrame").src="";
}
</script>

</body>
</html>